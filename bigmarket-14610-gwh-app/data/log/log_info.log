24-09-03.10:30:31.802 [main            ] INFO  RaffleActivityTest     - Starting RaffleActivityTest using Java 1.8.0_421 on GUOWEIHONG with PID 13592 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-09-03.10:30:31.803 [main            ] INFO  RaffleActivityTest     - The following 1 profile is active: "dev"
24-09-03.10:30:34.376 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-09-03.10:30:34.382 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-09-03.10:30:34.445 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
24-09-03.10:30:36.883 [main            ] INFO  Version                - Redisson 3.23.4
24-09-03.10:30:37.420 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-03.10:30:37.540 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-03.10:30:40.025 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-09-03.10:30:40.091 [main            ] INFO  RaffleActivityTest     - Started RaffleActivityTest in 8.7 seconds (JVM running for 15.233)
24-09-03.10:31:18.694 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-09-03.10:31:19.925 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-09-03.10:33:49.913 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=2m59s988ms224µs).
24-09-03.10:34:31.991 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
24-09-03.10:34:31.991 [main            ] INFO  ActivitySkuStockActionChain - 动责任链-商品库存处理【校验&扣减】开始。
24-09-03.10:35:03.317 [main            ] INFO  RaffleActivityTest     - Starting RaffleActivityTest using Java 1.8.0_421 on GUOWEIHONG with PID 1876 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-09-03.10:35:03.319 [main            ] INFO  RaffleActivityTest     - The following 1 profile is active: "dev"
24-09-03.10:35:04.018 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-09-03.10:35:04.021 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-09-03.10:35:04.055 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
24-09-03.10:35:05.893 [main            ] INFO  Version                - Redisson 3.23.4
24-09-03.10:35:06.359 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-03.10:35:06.514 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-03.10:35:08.905 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-09-03.10:35:08.972 [main            ] INFO  RaffleActivityTest     - Started RaffleActivityTest in 5.987 seconds (JVM running for 6.836)
24-09-03.10:35:12.836 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-09-03.10:35:13.768 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-09-03.10:37:56.898 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
24-09-03.10:37:56.900 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=2m39s164ms709µs700ns).
24-09-03.10:37:56.900 [main            ] INFO  ActivitySkuStockActionChain - 动责任链-商品库存处理【校验&扣减】开始。
24-09-03.10:38:03.643 [main            ] INFO  RaffleActivityTest     - Starting RaffleActivityTest using Java 1.8.0_421 on GUOWEIHONG with PID 9080 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-09-03.10:38:03.643 [main            ] INFO  RaffleActivityTest     - The following 1 profile is active: "dev"
24-09-03.10:38:04.457 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-09-03.10:38:04.460 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-09-03.10:38:04.496 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
24-09-03.10:38:06.483 [main            ] INFO  Version                - Redisson 3.23.4
24-09-03.10:38:07.095 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-03.10:38:07.220 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-03.10:38:09.605 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-09-03.10:38:09.681 [main            ] INFO  RaffleActivityTest     - Started RaffleActivityTest in 6.433 seconds (JVM running for 7.49)
24-09-03.10:38:12.673 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-09-03.10:38:13.593 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-09-03.10:38:16.691 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
24-09-03.10:38:16.692 [main            ] INFO  ActivitySkuStockActionChain - 动责任链-商品库存处理【校验&扣减】开始。
24-09-03.10:45:22.771 [main            ] INFO  RaffleActivityTest     - Starting RaffleActivityTest using Java 1.8.0_421 on GUOWEIHONG with PID 20564 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-09-03.10:45:22.771 [main            ] INFO  RaffleActivityTest     - The following 1 profile is active: "dev"
24-09-03.10:45:23.538 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-09-03.10:45:23.542 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-09-03.10:45:23.569 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
24-09-03.10:45:25.414 [main            ] INFO  Version                - Redisson 3.23.4
24-09-03.10:45:25.922 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-03.10:45:26.048 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-03.10:45:28.217 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-09-03.10:45:28.277 [main            ] INFO  RaffleActivityTest     - Started RaffleActivityTest in 5.877 seconds (JVM running for 6.695)
24-09-03.10:46:14.880 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-09-03.10:46:15.792 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-09-03.10:46:19.439 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
24-09-03.10:46:19.439 [main            ] INFO  ActivitySkuStockActionChain - 动责任链-商品库存处理【校验&扣减】开始。
24-09-03.10:49:04.180 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=2m48s273ms588µs400ns).
24-09-03.10:49:08.658 [main            ] INFO  RaffleActivityTest     - Starting RaffleActivityTest using Java 1.8.0_421 on GUOWEIHONG with PID 24896 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-09-03.10:49:08.659 [main            ] INFO  RaffleActivityTest     - The following 1 profile is active: "dev"
24-09-03.10:49:09.407 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-09-03.10:49:09.410 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-09-03.10:49:09.440 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
24-09-03.10:49:11.723 [main            ] INFO  Version                - Redisson 3.23.4
24-09-03.10:49:12.225 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-03.10:49:12.368 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-03.10:49:14.860 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-09-03.10:49:14.933 [main            ] INFO  RaffleActivityTest     - Started RaffleActivityTest in 6.616 seconds (JVM running for 7.552)
24-09-03.10:49:20.692 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-09-03.10:49:21.533 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-09-03.10:49:21.716 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
24-09-03.10:49:21.717 [main            ] INFO  ActivitySkuStockActionChain - 动责任链-商品库存处理【校验&扣减】开始。
24-09-03.10:49:53.124 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-09-03.10:49:53.391 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-09-03.10:51:43.597 [main            ] INFO  RaffleActivityTest     - Starting RaffleActivityTest using Java 1.8.0_421 on GUOWEIHONG with PID 22132 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-09-03.10:51:43.599 [main            ] INFO  RaffleActivityTest     - The following 1 profile is active: "dev"
24-09-03.10:51:44.271 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-09-03.10:51:44.274 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-09-03.10:51:44.307 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
24-09-03.10:51:45.546 [main            ] INFO  Version                - Redisson 3.23.4
24-09-03.10:51:45.913 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-03.10:51:46.051 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-03.10:51:47.560 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-09-03.10:51:47.600 [main            ] INFO  RaffleActivityTest     - Started RaffleActivityTest in 4.286 seconds (JVM running for 4.904)
24-09-03.10:51:47.770 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-09-03.10:51:48.453 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-09-03.10:51:48.575 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
24-09-03.10:51:48.575 [main            ] INFO  ActivitySkuStockActionChain - 动责任链-商品库存处理【校验&扣减】开始。
24-09-03.10:51:48.578 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-09-03.10:51:48.849 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-09-03.10:54:04.671 [main            ] INFO  RaffleActivityTest     - Starting RaffleActivityTest using Java 1.8.0_421 on GUOWEIHONG with PID 29136 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-09-03.10:54:04.672 [main            ] INFO  RaffleActivityTest     - The following 1 profile is active: "dev"
24-09-03.10:54:05.363 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-09-03.10:54:05.366 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-09-03.10:54:05.393 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
24-09-03.10:54:06.682 [main            ] INFO  Version                - Redisson 3.23.4
24-09-03.10:54:07.164 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-03.10:54:07.948 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-03.10:54:09.333 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-09-03.10:54:09.376 [main            ] INFO  RaffleActivityTest     - Started RaffleActivityTest in 4.986 seconds (JVM running for 5.567)
24-09-03.10:54:09.553 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-09-03.10:54:10.286 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-09-03.10:54:10.419 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
24-09-03.10:54:10.419 [main            ] INFO  ActivitySkuStockActionChain - 动责任链-商品库存处理【校验&扣减】开始。
24-09-03.10:54:10.423 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-09-03.10:54:10.943 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-09-03.10:54:39.760 [main            ] INFO  RaffleActivityTest     - Starting RaffleActivityTest using Java 1.8.0_421 on GUOWEIHONG with PID 12360 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-09-03.10:54:39.761 [main            ] INFO  RaffleActivityTest     - The following 1 profile is active: "dev"
24-09-03.10:54:40.406 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-09-03.10:54:40.409 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-09-03.10:54:40.436 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
24-09-03.10:54:41.636 [main            ] INFO  Version                - Redisson 3.23.4
24-09-03.10:54:41.964 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-03.10:54:42.097 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-03.10:54:43.511 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-09-03.10:54:43.551 [main            ] INFO  RaffleActivityTest     - Started RaffleActivityTest in 4.077 seconds (JVM running for 4.646)
24-09-03.10:54:43.731 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-09-03.10:54:44.388 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-09-03.10:54:44.505 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
24-09-03.10:54:44.506 [main            ] INFO  ActivitySkuStockActionChain - 动责任链-商品库存处理【校验&扣减】开始。
24-09-03.10:54:44.511 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-09-03.10:54:44.726 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-09-03.11:17:49.639 [main            ] INFO  RaffleActivityTest     - Starting RaffleActivityTest using Java 1.8.0_421 on GUOWEIHONG with PID 12284 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-09-03.11:17:49.640 [main            ] INFO  RaffleActivityTest     - The following 1 profile is active: "dev"
24-09-03.11:17:50.312 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-09-03.11:17:50.314 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-09-03.11:17:50.341 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
24-09-03.11:17:51.588 [main            ] INFO  Version                - Redisson 3.23.4
24-09-03.11:17:51.933 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-03.11:17:52.067 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-03.11:17:53.415 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-09-03.11:17:53.453 [main            ] INFO  RaffleActivityTest     - Started RaffleActivityTest in 4.091 seconds (JVM running for 4.657)
24-09-03.11:17:53.619 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-09-03.11:17:54.275 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-09-03.11:17:54.401 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
24-09-03.11:17:54.401 [main            ] INFO  ActivitySkuStockActionChain - 动责任链-商品库存处理【校验&扣减】开始。
24-09-03.11:17:54.405 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-09-03.11:17:54.656 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-09-03.11:17:54.800 [main            ] INFO  RaffleActivityTest     - 测试结果 196317111539
24-09-03.14:01:05.866 [main            ] INFO  RaffleActivityTest     - Starting RaffleActivityTest using Java 1.8.0_421 on GUOWEIHONG with PID 10600 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-09-03.14:01:05.866 [main            ] INFO  RaffleActivityTest     - The following 1 profile is active: "dev"
24-09-03.14:01:06.665 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-09-03.14:01:06.665 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-09-03.14:01:06.697 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
24-09-03.14:01:08.159 [main            ] INFO  Version                - Redisson 3.23.4
24-09-03.14:01:08.573 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-03.14:01:08.704 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-03.14:01:10.092 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-09-03.14:01:10.129 [main            ] INFO  RaffleActivityTest     - Started RaffleActivityTest in 4.588 seconds (JVM running for 5.288)
24-09-03.14:01:10.346 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-09-03.14:01:11.009 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-09-03.14:01:11.139 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
24-09-03.14:01:11.139 [main            ] INFO  ActivitySkuStockActionChain - 动责任链-商品库存处理【校验&扣减】开始。
24-09-03.14:01:11.143 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-09-03.14:01:11.354 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-09-03.14:01:11.451 [main            ] ERROR ActivityRepository     - 写入订单记录，唯一索引冲突 userId: xiaofuge activityId: 100301 sku: 9011
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
### The error may exist in file [D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app\target\classes\mybatis\mapper\raffle_activity_order_mapper.xml]
### The error may involve cn.bugstack.infrastructure.persistent.dao.IRaffleActivityOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into raffle_activity_order_001 ( user_id,sku, activity_id, activity_name, strategy_id, order_id, order_time,total_count, day_count, month_count, state,out_business_no, create_time, update_time)         values (?, ?,?, ?, ?, ?, ?, ?,?,?,?, ?,now(), now())
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
; Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
	at com.sun.proxy.$Proxy102.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy117.insert(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at com.sun.proxy.$Proxy118.insert(Unknown Source)
	at cn.bugstack.infrastructure.persistent.repository.ActivityRepository.lambda$doSaveOrder$0(ActivityRepository.java:151)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.bugstack.infrastructure.persistent.repository.ActivityRepository.doSaveOrder(ActivityRepository.java:148)
	at cn.bugstack.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$5fc4459a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.bugstack.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$b4d99896.doSaveOrder(<generated>)
	at cn.bugstack.domain.activity.service.RaffleActivityService.doSaveOrder(RaffleActivityService.java:63)
	at cn.bugstack.domain.activity.service.AbstractRaffleActivity.createSkuRechargeOrder(AbstractRaffleActivity.java:71)
	at cn.bugstack.test.domain.activity.RaffleActivityTest.test_createSkuRechargeOrder(RaffleActivityTest.java:47)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy176.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	... 66 common frames omitted
24-09-10.15:00:56.523 [main            ] INFO  RaffleActivityTest     - Starting RaffleActivityTest using Java 1.8.0_421 on GUOWEIHONG with PID 31864 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-09-10.15:00:56.523 [main            ] INFO  RaffleActivityTest     - The following 1 profile is active: "dev"
24-09-10.15:00:58.229 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-09-10.15:00:58.233 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-09-10.15:00:58.266 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
24-09-10.15:00:59.815 [main            ] INFO  Version                - Redisson 3.23.4
24-09-10.15:01:00.193 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-10.15:01:00.338 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-10.15:01:01.848 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-09-10.15:01:01.892 [main            ] INFO  RaffleActivityTest     - Started RaffleActivityTest in 5.726 seconds (JVM running for 6.542)
24-09-10.15:01:02.119 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-09-10.15:01:02.982 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-09-10.15:01:03.106 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
24-09-10.15:03:54.479 [main            ] INFO  RaffleActivityTest     - Starting RaffleActivityTest using Java 1.8.0_421 on GUOWEIHONG with PID 32716 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-09-10.15:03:54.480 [main            ] INFO  RaffleActivityTest     - The following 1 profile is active: "dev"
24-09-10.15:03:55.274 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-09-10.15:03:55.276 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-09-10.15:03:55.326 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
24-09-10.15:03:57.336 [main            ] INFO  Version                - Redisson 3.23.4
24-09-10.15:03:57.880 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-10.15:03:58.003 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-10.15:04:00.561 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-09-10.15:04:00.638 [main            ] INFO  RaffleActivityTest     - Started RaffleActivityTest in 6.501 seconds (JVM running for 7.364)
24-09-10.15:04:04.140 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-09-10.15:04:05.065 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-09-10.15:04:05.259 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
24-09-10.15:04:47.198 [main            ] INFO  RaffleActivityTest     - Starting RaffleActivityTest using Java 1.8.0_421 on GUOWEIHONG with PID 7992 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-09-10.15:04:47.199 [main            ] INFO  RaffleActivityTest     - The following 1 profile is active: "dev"
24-09-10.15:04:47.977 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-09-10.15:04:47.981 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-09-10.15:04:48.010 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
24-09-10.15:04:49.984 [main            ] INFO  Version                - Redisson 3.23.4
24-09-10.15:04:50.478 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-10.15:04:50.600 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-10.15:04:52.932 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-09-10.15:04:52.994 [main            ] INFO  RaffleActivityTest     - Started RaffleActivityTest in 6.176 seconds (JVM running for 7.037)
24-09-10.15:05:06.681 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-09-10.15:05:07.585 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-09-10.15:05:17.489 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
24-09-10.15:06:27.133 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=1m16s108ms826µs600ns).
24-09-10.15:06:30.139 [main            ] INFO  RaffleActivityTest     - Starting RaffleActivityTest using Java 1.8.0_421 on GUOWEIHONG with PID 30416 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-09-10.15:06:30.140 [main            ] INFO  RaffleActivityTest     - The following 1 profile is active: "dev"
24-09-10.15:06:30.915 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-09-10.15:06:30.921 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-09-10.15:06:30.959 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
24-09-10.15:06:32.993 [main            ] INFO  Version                - Redisson 3.23.4
24-09-10.15:06:33.547 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-10.15:06:33.677 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-10.15:06:36.328 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-09-10.15:06:36.394 [main            ] INFO  RaffleActivityTest     - Started RaffleActivityTest in 6.593 seconds (JVM running for 7.422)
24-09-10.15:07:02.640 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-09-10.15:07:05.252 [main            ] INFO  RaffleActivityTest     - Starting RaffleActivityTest using Java 1.8.0_421 on GUOWEIHONG with PID 34412 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-09-10.15:07:05.253 [main            ] INFO  RaffleActivityTest     - The following 1 profile is active: "dev"
24-09-10.15:07:06.143 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-09-10.15:07:06.146 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-09-10.15:07:06.184 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
24-09-10.15:07:08.351 [main            ] INFO  Version                - Redisson 3.23.4
24-09-10.15:07:08.970 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-10.15:07:09.178 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-09-10.15:07:11.789 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-09-10.15:07:11.868 [main            ] INFO  RaffleActivityTest     - Started RaffleActivityTest in 6.988 seconds (JVM running for 7.866)
24-09-10.15:07:14.207 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-09-10.15:07:15.192 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-09-10.15:07:37.454 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
24-09-10.15:07:41.353 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【校验&扣减】开始。
24-09-10.15:07:41.354 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【校验&扣减】失败，库存不足。
24-09-10.15:08:37.602 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=45s157ms576µs200ns).
24-09-10.15:08:59.421 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-09-10.15:08:59.683 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-09-10.15:09:32.425 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=54s823ms316µs600ns).
24-09-10.15:09:32.426 [main            ] INFO  RaffleActivityTest     - 测试结果 851428078054
