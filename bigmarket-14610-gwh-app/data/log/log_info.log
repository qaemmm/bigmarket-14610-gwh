24-08-27.14:05:34.995 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_421 on GUOWEIHONG with PID 3256 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-08-27.14:05:34.996 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-08-27.14:05:36.462 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-27.14:05:36.466 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-27.14:05:36.503 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
24-08-27.14:05:38.903 [main            ] INFO  Version                - Redisson 3.23.4
24-08-27.14:05:39.688 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.14:05:39.841 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.14:05:42.403 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-27.14:05:42.466 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 7.988 seconds (JVM running for 9.425)
24-08-27.14:06:55.464 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_421 on GUOWEIHONG with PID 13152 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-08-27.14:06:55.466 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-08-27.14:06:56.242 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-27.14:06:56.244 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-27.14:06:56.275 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
24-08-27.14:06:57.558 [main            ] INFO  Version                - Redisson 3.23.4
24-08-27.14:06:58.033 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.14:06:58.185 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.14:06:59.967 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-27.14:07:00.024 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 4.988 seconds (JVM running for 6.119)
24-08-27.14:08:39.639 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_421 on GUOWEIHONG with PID 35764 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-08-27.14:08:39.640 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-08-27.14:08:40.360 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-27.14:08:40.363 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-27.14:08:40.393 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
24-08-27.14:08:41.481 [main            ] INFO  Version                - Redisson 3.23.4
24-08-27.14:08:41.925 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.14:08:42.069 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.14:08:43.296 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-27.14:08:43.341 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 4.078 seconds (JVM running for 4.952)
24-08-27.14:10:26.208 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_421 on GUOWEIHONG with PID 16972 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-08-27.14:10:26.209 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-08-27.14:10:27.153 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-27.14:10:27.158 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-27.14:10:27.197 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
24-08-27.14:10:28.422 [main            ] INFO  Version                - Redisson 3.23.4
24-08-27.14:10:28.951 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.14:10:29.085 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.14:10:30.700 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-27.14:10:30.750 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 4.952 seconds (JVM running for 5.828)
24-08-27.14:12:20.655 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_421 on GUOWEIHONG with PID 35804 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-08-27.14:12:20.655 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-08-27.14:12:21.406 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-27.14:12:21.409 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-27.14:12:21.438 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
24-08-27.14:12:22.586 [main            ] INFO  Version                - Redisson 3.23.4
24-08-27.14:12:23.097 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.14:12:23.232 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.14:12:24.858 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-27.14:12:24.911 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 4.623 seconds (JVM running for 5.904)
24-08-27.14:13:20.587 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-27.14:13:24.192 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-27.14:14:23.621 [main            ] INFO  StrategyRepository     - 策略奖品库存初始化成功 缓存key：strategy_award_count_key_100006_101,库存：3，
24-08-27.14:14:23.621 [main            ] INFO  StrategyArmoryDispatch - 策略奖品库存初始化成功，策略ID：100006，奖品ID：101，库存：3，缓存key：strategy_award_count_key_100006_101
24-08-27.14:14:23.661 [main            ] INFO  StrategyRepository     - 策略奖品库存初始化成功 缓存key：strategy_award_count_key_100006_102,库存：97，
24-08-27.14:14:23.661 [main            ] INFO  StrategyArmoryDispatch - 策略奖品库存初始化成功，策略ID：100006，奖品ID：102，库存：97，缓存key：strategy_award_count_key_100006_102
24-08-27.14:14:23.709 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-08-27.14:14:23.790 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: gwh strategyId: 100006 ruleModel: default awardId: 102
24-08-27.14:14:23.792 [main            ] INFO  AbstractRaffleStrategy - 责任链100006 gwh 102 default
24-08-27.14:14:23.792 [main            ] INFO  AbstractRaffleStrategy - DefaultChainFactory.LogicModel.RULE_DEFAULT:RULE_DEFAULT
24-08-27.14:14:23.941 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:gwh strategyId:100006 awardId:102 ruleValue:1
24-08-27.14:14:23.942 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-08-27.14:14:23.944 [main            ] INFO  RuleStockLogicTreeNode - 库存节点gwh 100006 102
24-08-27.14:14:23.966 [main            ] INFO  StrategyRepository     - 库存值为整数，cacheKey: strategy_award_count_key_100006_102, value: 97,stockCount:97
24-08-27.14:14:24.068 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-08-27.14:14:39.137 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-08-27.14:14:39.338 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-08-27.14:15:56.682 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_421 on GUOWEIHONG with PID 9040 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-08-27.14:15:56.683 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-08-27.14:15:57.447 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-27.14:15:57.451 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-27.14:15:57.480 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
24-08-27.14:15:58.767 [main            ] INFO  Version                - Redisson 3.23.4
24-08-27.14:15:59.277 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.14:15:59.439 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.14:16:01.217 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-27.14:16:01.269 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 5.003 seconds (JVM running for 5.846)
24-08-27.14:17:28.397 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_421 on GUOWEIHONG with PID 34772 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-08-27.14:17:28.398 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-08-27.14:17:29.215 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-27.14:17:29.219 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-27.14:17:29.240 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
24-08-27.14:17:30.446 [main            ] INFO  Version                - Redisson 3.23.4
24-08-27.14:17:30.948 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.14:17:31.085 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.14:17:33.253 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-27.14:17:33.328 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 5.34 seconds (JVM running for 6.229)
24-08-27.14:17:33.881 [main            ] INFO  StrategyRepository     - 从缓存中获取策略奖品: strategiesAwardEntities：[{"awardId":101,"@type":"cn.bugstack.domain.strategy.model.entity.StrategyAwardEntity","awardCount":3,"awardCountSurplus":3,"awardRate":0.0300},{"awardId":102,"@type":"cn.bugstack.domain.strategy.model.entity.StrategyAwardEntity","awardCount":97,"awardCountSurplus":97,"awardRate":0.9700}]
24-08-27.14:17:33.901 [main            ] INFO  StrategyRepository     - 从缓存中获取策略奖品: strategiesAwardEntities的类型：class com.alibaba.fastjson.JSONArray
24-08-27.14:19:37.339 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_421 on GUOWEIHONG with PID 10396 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-08-27.14:19:37.340 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-08-27.14:19:38.112 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-27.14:19:38.115 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-27.14:19:38.145 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
24-08-27.14:19:39.428 [main            ] INFO  Version                - Redisson 3.23.4
24-08-27.14:19:39.927 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.14:19:40.067 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.14:19:41.802 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-27.14:19:41.865 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 4.915 seconds (JVM running for 5.741)
24-08-27.14:19:42.174 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-27.14:19:42.989 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-27.14:19:43.214 [main            ] INFO  StrategyRepository     - 策略奖品库存初始化成功 缓存key：strategy_award_count_key_100006_101,库存：3，
24-08-27.14:19:43.214 [main            ] INFO  StrategyArmoryDispatch - 策略奖品库存初始化成功，策略ID：100006，奖品ID：101，库存：3，缓存key：strategy_award_count_key_100006_101
24-08-27.14:19:43.254 [main            ] INFO  StrategyRepository     - 策略奖品库存初始化成功 缓存key：strategy_award_count_key_100006_102,库存：97，
24-08-27.14:19:43.254 [main            ] INFO  StrategyArmoryDispatch - 策略奖品库存初始化成功，策略ID：100006，奖品ID：102，库存：97，缓存key：strategy_award_count_key_100006_102
24-08-27.14:19:43.282 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-08-27.14:19:43.353 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: gwh strategyId: 100006 ruleModel: default awardId: 102
24-08-27.14:19:43.354 [main            ] INFO  AbstractRaffleStrategy - 责任链100006 gwh 102 default
24-08-27.14:19:43.354 [main            ] INFO  AbstractRaffleStrategy - DefaultChainFactory.LogicModel.RULE_DEFAULT:RULE_DEFAULT
24-08-27.14:19:43.494 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:gwh strategyId:100006 awardId:102 ruleValue:1
24-08-27.14:19:43.496 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-08-27.14:19:43.497 [main            ] INFO  RuleStockLogicTreeNode - 库存节点gwh 100006 102
24-08-27.14:19:46.944 [main            ] INFO  StrategyRepository     - 库存值为整数，cacheKey: strategy_award_count_key_100006_102, value: 97,stockCount:97
24-08-27.14:19:53.348 [main            ] ERROR StrategyRepository     - 执行DECR命令时出错，cacheKey: strategy_award_count_key_100006_102, error: ERR value is not an integer or out of range. channel: [id: 0xa84494f5, L:/10.11.25.178:43990 - R:124.70.185.116/124.70.185.116:6379] command: (DECR), promise: java.util.concurrent.CompletableFuture@abf629a[Not completed, 1 dependents], params: [strategy_award_count_key_100006_102]
24-08-27.14:22:37.454 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m54s345ms743µs99ns).
24-08-27.14:22:37.454 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-告警，库存不足 userId:gwh strategyId:100006 awardId:102 
24-08-27.14:22:37.454 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0000
24-08-27.14:22:37.454 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:gwh strategyId:100006 awardId:102 ruleValue:101:1,100
24-08-27.14:22:37.457 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:gwh strategyId:100006 awardId:101 awardRuleValue:1,100
24-08-27.14:22:37.461 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_luck_award code:0001
24-08-27.14:22:37.461 [main            ] INFO  AbstractRaffleStrategy - 决策树100006 gwh 101 1,100
24-08-27.14:22:37.545 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-08-27.14:22:37.702 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100006,"userId":"gwh"}
24-08-27.14:22:37.705 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardConfig":"1,100","awardId":101}
24-08-27.14:22:37.751 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-08-27.14:23:01.454 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_421 on GUOWEIHONG with PID 20216 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-08-27.14:23:01.456 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-08-27.14:23:02.168 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-27.14:23:02.171 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-27.14:23:02.202 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
24-08-27.14:23:03.403 [main            ] INFO  Version                - Redisson 3.23.4
24-08-27.14:23:03.927 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.14:23:04.076 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.14:23:05.685 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-27.14:23:05.734 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 4.642 seconds (JVM running for 5.489)
24-08-27.14:23:05.998 [main            ] INFO  StrategyRepository     - 从缓存中获取策略奖品: strategiesAwardEntities：[StrategyAwardEntity(strategyId=null, awardId=101, awardCount=3, awardCountSurplus=3, awardRate=0.0300), StrategyAwardEntity(strategyId=null, awardId=102, awardCount=97, awardCountSurplus=97, awardRate=0.9700)]
24-08-27.14:23:05.998 [main            ] INFO  StrategyRepository     - 从缓存中获取策略奖品: strategiesAwardEntities的类型：class java.util.ArrayList
24-08-27.14:23:37.886 [main            ] INFO  StrategyArmoryDispatch - 策略奖品库存初始化成功，策略ID：100006，奖品ID：101，库存：3，缓存key：strategy_award_count_key_100006_101
24-08-27.14:23:37.909 [main            ] INFO  StrategyArmoryDispatch - 策略奖品库存初始化成功，策略ID：100006，奖品ID：102，库存：97，缓存key：strategy_award_count_key_100006_102
24-08-27.14:23:37.927 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-27.14:23:38.613 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-27.14:23:38.677 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-08-27.14:23:38.749 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: gwh strategyId: 100006 ruleModel: default awardId: 102
24-08-27.14:23:38.750 [main            ] INFO  AbstractRaffleStrategy - 责任链100006 gwh 102 default
24-08-27.14:23:38.750 [main            ] INFO  AbstractRaffleStrategy - DefaultChainFactory.LogicModel.RULE_DEFAULT:RULE_DEFAULT
24-08-27.14:23:38.804 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:gwh strategyId:100006 awardId:102 ruleValue:1
24-08-27.14:23:38.806 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-08-27.14:23:38.807 [main            ] INFO  RuleStockLogicTreeNode - 库存节点gwh 100006 102
24-08-27.14:23:41.573 [main            ] INFO  StrategyRepository     - 库存值为整数，cacheKey: strategy_award_count_key_100006_102, value: 97,stockCount:97
24-08-27.14:25:00.269 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m21s551ms861µs600ns).
24-08-27.14:25:00.272 [main            ] ERROR StrategyRepository     - 执行DECR命令时出错，cacheKey: strategy_award_count_key_100006_102, error: ERR value is not an integer or out of range. channel: [id: 0x21832e09, L:/10.11.25.178:65183 - R:124.70.185.116/124.70.185.116:6379] command: (DECR), promise: java.util.concurrent.CompletableFuture@26da4856[Not completed, 1 dependents], params: [strategy_award_count_key_100006_102]
24-08-27.14:25:00.272 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-告警，库存不足 userId:gwh strategyId:100006 awardId:102 
24-08-27.14:25:00.272 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0000
24-08-27.14:25:00.272 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:gwh strategyId:100006 awardId:102 ruleValue:101:1,100
24-08-27.14:25:00.274 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:gwh strategyId:100006 awardId:101 awardRuleValue:1,100
24-08-27.14:25:00.280 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_luck_award code:0001
24-08-27.14:25:00.287 [main            ] INFO  AbstractRaffleStrategy - 决策树100006 gwh 101 1,100
24-08-27.14:25:00.370 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-08-27.14:25:00.476 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100006,"userId":"gwh"}
24-08-27.14:25:00.479 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardConfig":"1,100","awardId":101}
24-08-27.14:25:00.562 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-08-27.14:25:05.099 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_421 on GUOWEIHONG with PID 27492 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-08-27.14:25:05.100 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-08-27.14:25:05.849 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-27.14:25:05.852 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-27.14:25:05.883 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
24-08-27.14:25:07.142 [main            ] INFO  Version                - Redisson 3.23.4
24-08-27.14:25:07.623 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.14:25:07.758 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.14:25:09.303 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-27.14:25:09.356 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 4.652 seconds (JVM running for 5.473)
24-08-27.14:25:09.611 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-27.14:25:10.370 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-27.14:25:10.571 [main            ] INFO  StrategyRepository     - 策略奖品库存初始化成功 缓存key：strategy_award_count_key_100006_101,库存：3，
24-08-27.14:25:10.571 [main            ] INFO  StrategyArmoryDispatch - 策略奖品库存初始化成功，策略ID：100006，奖品ID：101，库存：3，缓存key：strategy_award_count_key_100006_101
24-08-27.14:25:10.614 [main            ] INFO  StrategyRepository     - 策略奖品库存初始化成功 缓存key：strategy_award_count_key_100006_102,库存：97，
24-08-27.14:25:10.614 [main            ] INFO  StrategyArmoryDispatch - 策略奖品库存初始化成功，策略ID：100006，奖品ID：102，库存：97，缓存key：strategy_award_count_key_100006_102
24-08-27.14:25:10.637 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-08-27.14:25:10.706 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: gwh strategyId: 100006 ruleModel: default awardId: 102
24-08-27.14:25:10.707 [main            ] INFO  AbstractRaffleStrategy - 责任链100006 gwh 102 default
24-08-27.14:25:10.707 [main            ] INFO  AbstractRaffleStrategy - DefaultChainFactory.LogicModel.RULE_DEFAULT:RULE_DEFAULT
24-08-27.14:25:10.853 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:gwh strategyId:100006 awardId:102 ruleValue:1
24-08-27.14:25:10.853 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-08-27.14:25:10.854 [main            ] INFO  RuleStockLogicTreeNode - 库存节点gwh 100006 102
24-08-27.14:25:13.051 [main            ] INFO  StrategyRepository     - 库存值为整数，cacheKey: strategy_award_count_key_100006_102, value: 97,stockCount:97
24-08-27.14:25:23.215 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-08-27.14:28:07.128 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m56s647ms20µs701ns).
24-08-27.14:28:07.191 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-08-27.14:28:07.430 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-08-27.14:28:12.889 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_421 on GUOWEIHONG with PID 4164 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-08-27.14:28:12.890 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-08-27.14:28:13.763 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-27.14:28:13.768 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-27.14:28:13.801 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
24-08-27.14:28:15.123 [main            ] INFO  Version                - Redisson 3.23.4
24-08-27.14:28:15.539 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.14:28:15.690 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.14:28:17.304 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-27.14:28:17.353 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 4.83 seconds (JVM running for 5.666)
24-08-27.14:28:17.629 [main            ] INFO  StrategyRepository     - 从缓存中获取策略奖品: strategiesAwardEntities：[StrategyAwardEntity(strategyId=null, awardId=101, awardCount=3, awardCountSurplus=3, awardRate=0.0300), StrategyAwardEntity(strategyId=null, awardId=102, awardCount=97, awardCountSurplus=97, awardRate=0.9700)]
24-08-27.14:28:17.629 [main            ] INFO  StrategyRepository     - 从缓存中获取策略奖品: strategiesAwardEntities的类型：class java.util.ArrayList
24-08-27.14:28:20.761 [main            ] INFO  StrategyArmoryDispatch - 策略奖品库存初始化成功，策略ID：100006，奖品ID：101，库存：3，缓存key：strategy_award_count_key_100006_101
24-08-27.14:28:20.780 [main            ] INFO  StrategyArmoryDispatch - 策略奖品库存初始化成功，策略ID：100006，奖品ID：102，库存：97，缓存key：strategy_award_count_key_100006_102
24-08-27.14:28:20.802 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-27.14:28:21.592 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-27.14:28:21.654 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-08-27.14:28:21.721 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: gwh strategyId: 100006 ruleModel: default awardId: 102
24-08-27.14:28:21.721 [main            ] INFO  AbstractRaffleStrategy - 责任链100006 gwh 102 default
24-08-27.14:28:21.721 [main            ] INFO  AbstractRaffleStrategy - DefaultChainFactory.LogicModel.RULE_DEFAULT:RULE_DEFAULT
24-08-27.14:28:21.789 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:gwh strategyId:100006 awardId:102 ruleValue:1
24-08-27.14:31:56.629 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m34s933ms870µs399ns).
24-08-27.14:31:56.630 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-08-27.14:31:56.634 [main            ] INFO  RuleStockLogicTreeNode - 库存节点gwh 100006 102
24-08-27.14:31:58.702 [main            ] INFO  StrategyRepository     - 库存值为整数，cacheKey: strategy_award_count_key_100006_102, value: 96,stockCount:96
24-08-27.14:35:16.698 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m20s69ms209µs100ns).
24-08-27.14:35:18.971 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-08-27.14:55:26.957 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=20m10s258ms114µs601ns).
24-08-27.14:55:27.029 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-08-27.14:55:37.200 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-08-27.14:55:41.674 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_421 on GUOWEIHONG with PID 33588 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-08-27.14:55:41.675 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-08-27.14:55:42.419 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-27.14:55:42.422 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-27.14:55:42.459 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
24-08-27.14:55:43.969 [main            ] INFO  Version                - Redisson 3.23.4
24-08-27.14:55:44.412 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.14:55:44.519 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.14:55:46.292 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-27.14:55:46.358 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 5.063 seconds (JVM running for 5.908)
24-08-27.14:55:46.670 [main            ] INFO  StrategyRepository     - 从缓存中获取策略奖品: strategiesAwardEntities：[StrategyAwardEntity(strategyId=null, awardId=101, awardCount=3, awardCountSurplus=3, awardRate=0.0300), StrategyAwardEntity(strategyId=null, awardId=102, awardCount=97, awardCountSurplus=97, awardRate=0.9700)]
24-08-27.14:55:46.671 [main            ] INFO  StrategyRepository     - 从缓存中获取策略奖品: strategiesAwardEntities的类型：class java.util.ArrayList
24-08-27.14:56:23.177 [main            ] INFO  StrategyArmoryDispatch - 策略奖品库存初始化成功，策略ID：100006，奖品ID：101，库存：3，缓存key：strategy_award_count_key_100006_101
24-08-27.14:56:23.196 [main            ] INFO  StrategyArmoryDispatch - 策略奖品库存初始化成功，策略ID：100006，奖品ID：102，库存：97，缓存key：strategy_award_count_key_100006_102
24-08-27.14:56:23.216 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-27.14:56:23.906 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-27.14:56:23.965 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-08-27.14:56:24.020 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: gwh strategyId: 100006 ruleModel: default awardId: 102
24-08-27.14:56:24.020 [main            ] INFO  AbstractRaffleStrategy - 责任链100006 gwh 102 default
24-08-27.14:56:24.021 [main            ] INFO  AbstractRaffleStrategy - DefaultChainFactory.LogicModel.RULE_DEFAULT:RULE_DEFAULT
24-08-27.14:56:56.155 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:gwh strategyId:100006 awardId:102 ruleValue:1
24-08-27.14:57:06.108 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-08-27.14:57:43.860 [main            ] INFO  RuleStockLogicTreeNode - 库存节点gwh 100006 102
24-08-27.14:57:51.122 [main            ] INFO  StrategyRepository     - 库存值为整数，cacheKey: strategy_award_count_key_100006_102, value: 95,stockCount:95
24-08-27.14:58:18.614 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=46s666ms696µs399ns).
24-08-27.14:59:47.929 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m29s316ms263µs200ns).
24-08-27.14:59:49.529 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-08-27.14:59:57.770 [redisson-timer-4-1] ERROR PingConnectionHandler  - Unable to send PING command over channel: [id: 0x22e72146, L:/10.11.25.178:26318 - R:124.70.185.116/124.70.185.116:6379]
org.redisson.client.RedisTimeoutException: Command execution timeout for command: (PING), params: [], Redis client: [addr=redis://124.70.185.116:6379]
	at org.redisson.client.RedisConnection.lambda$async$0(RedisConnection.java:256)
	at io.netty.util.HashedWheelTimer$HashedWheelTimeout.run(HashedWheelTimer.java:715)
	at io.netty.util.concurrent.ImmediateExecutor.execute(ImmediateExecutor.java:34)
	at io.netty.util.HashedWheelTimer$HashedWheelTimeout.expire(HashedWheelTimer.java:703)
	at io.netty.util.HashedWheelTimer$HashedWheelBucket.expireTimeouts(HashedWheelTimer.java:790)
	at io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:503)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
24-08-27.15:00:16.062 [redisson-timer-4-1] ERROR PingConnectionHandler  - Unable to send PING command over channel: [id: 0x9fe62ad0, L:/10.11.25.178:26319 - R:124.70.185.116/124.70.185.116:6379]
org.redisson.client.RedisTimeoutException: Command execution timeout for command: (PING), params: [], Redis client: [addr=redis://124.70.185.116:6379]
	at org.redisson.client.RedisConnection.lambda$async$0(RedisConnection.java:256)
	at io.netty.util.HashedWheelTimer$HashedWheelTimeout.run(HashedWheelTimer.java:715)
	at io.netty.util.concurrent.ImmediateExecutor.execute(ImmediateExecutor.java:34)
	at io.netty.util.HashedWheelTimer$HashedWheelTimeout.expire(HashedWheelTimer.java:703)
	at io.netty.util.HashedWheelTimer$HashedWheelBucket.expireTimeouts(HashedWheelTimer.java:790)
	at io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:503)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
24-08-27.15:00:16.125 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-08-27.15:00:16.318 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-08-27.15:01:45.694 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_421 on GUOWEIHONG with PID 1496 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-08-27.15:01:45.695 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-08-27.15:01:46.468 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-27.15:01:46.473 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-27.15:01:46.514 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
24-08-27.15:01:47.859 [main            ] INFO  Version                - Redisson 3.23.4
24-08-27.15:01:48.282 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.15:01:48.402 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.15:01:50.075 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-27.15:01:50.129 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 4.791 seconds (JVM running for 5.623)
24-08-27.15:01:50.400 [main            ] INFO  StrategyRepository     - 从缓存中获取策略奖品: strategiesAwardEntities：[StrategyAwardEntity(strategyId=null, awardId=101, awardCount=3, awardCountSurplus=3, awardRate=0.0300), StrategyAwardEntity(strategyId=null, awardId=102, awardCount=97, awardCountSurplus=97, awardRate=0.9700)]
24-08-27.15:01:50.402 [main            ] INFO  StrategyRepository     - 从缓存中获取策略奖品: strategiesAwardEntities的类型：class java.util.ArrayList
24-08-27.15:01:50.462 [main            ] INFO  StrategyArmoryDispatch - 策略奖品库存初始化成功，策略ID：100006，奖品ID：101，库存：3，缓存key：strategy_award_count_key_100006_101
24-08-27.15:01:50.480 [main            ] INFO  StrategyArmoryDispatch - 策略奖品库存初始化成功，策略ID：100006，奖品ID：102，库存：97，缓存key：strategy_award_count_key_100006_102
24-08-27.15:01:50.499 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-27.15:01:51.163 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-27.15:01:51.217 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-08-27.15:01:51.272 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: gwh strategyId: 100006 ruleModel: default awardId: 102
24-08-27.15:01:51.272 [main            ] INFO  AbstractRaffleStrategy - 责任链100006 gwh 102 default
24-08-27.15:01:51.272 [main            ] INFO  AbstractRaffleStrategy - DefaultChainFactory.LogicModel.RULE_DEFAULT:RULE_DEFAULT
24-08-27.15:01:54.601 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:gwh strategyId:100006 awardId:102 ruleValue:1
24-08-27.15:01:54.602 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-08-27.15:02:49.971 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=58s703ms447µs400ns).
24-08-27.15:02:51.883 [main            ] INFO  RuleStockLogicTreeNode - 库存节点gwh 100006 102
24-08-27.15:02:57.448 [main            ] INFO  StrategyRepository     - 库存值为整数，cacheKey: strategy_award_count_key_100006_102, value: 94,stockCount:94
24-08-27.15:02:57.562 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-08-27.15:09:33.473 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=6m8s444ms137µs800ns).
24-08-27.15:09:33.627 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-08-27.15:09:33.795 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-08-27.15:09:39.834 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_421 on GUOWEIHONG with PID 34280 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-08-27.15:09:39.835 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-08-27.15:09:40.612 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-27.15:09:40.615 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-27.15:09:40.651 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
24-08-27.15:09:41.925 [main            ] INFO  Version                - Redisson 3.23.4
24-08-27.15:09:42.388 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.15:09:42.530 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.15:09:44.317 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-27.15:09:44.379 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 4.961 seconds (JVM running for 5.829)
24-08-27.15:09:44.685 [main            ] INFO  StrategyRepository     - 从缓存中获取策略奖品: strategiesAwardEntities：[StrategyAwardEntity(strategyId=null, awardId=101, awardCount=3, awardCountSurplus=3, awardRate=0.0300), StrategyAwardEntity(strategyId=null, awardId=102, awardCount=97, awardCountSurplus=97, awardRate=0.9700)]
24-08-27.15:09:44.686 [main            ] INFO  StrategyRepository     - 从缓存中获取策略奖品: strategiesAwardEntities的类型：class java.util.ArrayList
24-08-27.15:09:44.761 [main            ] INFO  StrategyArmoryDispatch - 策略奖品库存初始化成功，策略ID：100006，奖品ID：101，库存：3，缓存key：strategy_award_count_key_100006_101
24-08-27.15:09:44.781 [main            ] INFO  StrategyArmoryDispatch - 策略奖品库存初始化成功，策略ID：100006，奖品ID：102，库存：97，缓存key：strategy_award_count_key_100006_102
24-08-27.15:09:44.799 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-27.15:09:45.543 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-27.15:09:45.615 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-08-27.15:09:45.682 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: gwh strategyId: 100006 ruleModel: default awardId: 102
24-08-27.15:09:45.683 [main            ] INFO  AbstractRaffleStrategy - 责任链100006 gwh 102 default
24-08-27.15:09:45.683 [main            ] INFO  AbstractRaffleStrategy - DefaultChainFactory.LogicModel.RULE_DEFAULT:RULE_DEFAULT
24-08-27.15:09:45.749 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:gwh strategyId:100006 awardId:102 ruleValue:1
24-08-27.15:09:45.750 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-08-27.15:09:49.091 [main            ] INFO  RuleStockLogicTreeNode - 库存节点gwh 100006 102
24-08-27.15:09:50.164 [main            ] INFO  StrategyRepository     - 库存值为整数，cacheKey: strategy_award_count_key_100006_102, value: 93,stockCount:93
24-08-27.15:09:50.280 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-08-27.15:09:50.339 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-08-27.15:09:50.488 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-08-27.15:10:05.274 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_421 on GUOWEIHONG with PID 24628 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-08-27.15:10:05.275 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-08-27.15:10:06.014 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-27.15:10:06.017 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-27.15:10:06.048 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
24-08-27.15:10:07.335 [main            ] INFO  Version                - Redisson 3.23.4
24-08-27.15:10:07.751 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.15:10:07.895 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.15:10:09.585 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-27.15:10:09.647 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 4.742 seconds (JVM running for 5.613)
24-08-27.15:10:09.953 [main            ] INFO  StrategyRepository     - 从缓存中获取策略奖品: strategiesAwardEntities：[StrategyAwardEntity(strategyId=null, awardId=101, awardCount=3, awardCountSurplus=3, awardRate=0.0300), StrategyAwardEntity(strategyId=null, awardId=102, awardCount=97, awardCountSurplus=97, awardRate=0.9700)]
24-08-27.15:10:09.954 [main            ] INFO  StrategyRepository     - 从缓存中获取策略奖品: strategiesAwardEntities的类型：class java.util.ArrayList
24-08-27.15:10:10.020 [main            ] INFO  StrategyArmoryDispatch - 策略奖品库存初始化成功，策略ID：100006，奖品ID：101，库存：3，缓存key：strategy_award_count_key_100006_101
24-08-27.15:10:10.040 [main            ] INFO  StrategyArmoryDispatch - 策略奖品库存初始化成功，策略ID：100006，奖品ID：102，库存：97，缓存key：strategy_award_count_key_100006_102
24-08-27.15:10:10.058 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-27.15:10:10.755 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-27.15:10:10.815 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-08-27.15:10:10.878 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: gwh strategyId: 100006 ruleModel: default awardId: 102
24-08-27.15:10:10.879 [main            ] INFO  AbstractRaffleStrategy - 责任链100006 gwh 102 default
24-08-27.15:10:10.879 [main            ] INFO  AbstractRaffleStrategy - DefaultChainFactory.LogicModel.RULE_DEFAULT:RULE_DEFAULT
24-08-27.15:10:10.934 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:gwh strategyId:100006 awardId:102 ruleValue:1
24-08-27.15:10:10.934 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-08-27.15:10:10.935 [main            ] INFO  RuleStockLogicTreeNode - 库存节点gwh 100006 102
24-08-27.15:10:10.954 [main            ] INFO  StrategyRepository     - 库存值为整数，cacheKey: strategy_award_count_key_100006_102, value: 92,stockCount:92
24-08-27.15:10:11.056 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-08-27.15:10:59.724 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=48s858ms14µs300ns).
24-08-27.15:10:59.796 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-08-27.15:10:59.977 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-08-27.15:11:04.018 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_421 on GUOWEIHONG with PID 24456 (started by 郭伟鸿 in D:\JAVA_Project\bigmarket-14610-gwh\bigmarket-14610-gwh-app)
24-08-27.15:11:04.019 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-08-27.15:11:04.763 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-27.15:11:04.766 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-27.15:11:04.795 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
24-08-27.15:11:06.179 [main            ] INFO  Version                - Redisson 3.23.4
24-08-27.15:11:06.596 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.15:11:06.739 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 124.70.185.116/124.70.185.116:6379
24-08-27.15:11:08.333 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-27.15:11:08.388 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 4.765 seconds (JVM running for 5.584)
24-08-27.15:11:08.696 [main            ] INFO  StrategyRepository     - 从缓存中获取策略奖品: strategiesAwardEntities：[StrategyAwardEntity(strategyId=null, awardId=101, awardCount=3, awardCountSurplus=3, awardRate=0.0300), StrategyAwardEntity(strategyId=null, awardId=102, awardCount=97, awardCountSurplus=97, awardRate=0.9700)]
24-08-27.15:11:08.696 [main            ] INFO  StrategyRepository     - 从缓存中获取策略奖品: strategiesAwardEntities的类型：class java.util.ArrayList
24-08-27.15:11:08.768 [main            ] INFO  StrategyArmoryDispatch - 策略奖品库存初始化成功，策略ID：100006，奖品ID：101，库存：3，缓存key：strategy_award_count_key_100006_101
24-08-27.15:11:08.787 [main            ] INFO  StrategyArmoryDispatch - 策略奖品库存初始化成功，策略ID：100006，奖品ID：102，库存：97，缓存key：strategy_award_count_key_100006_102
24-08-27.15:11:08.809 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-27.15:11:09.548 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-27.15:11:09.612 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-08-27.15:11:09.675 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: gwh strategyId: 100006 ruleModel: default awardId: 102
24-08-27.15:11:09.676 [main            ] INFO  AbstractRaffleStrategy - 责任链100006 gwh 102 default
24-08-27.15:11:09.676 [main            ] INFO  AbstractRaffleStrategy - DefaultChainFactory.LogicModel.RULE_DEFAULT:RULE_DEFAULT
24-08-27.15:11:09.732 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:gwh strategyId:100006 awardId:102 ruleValue:1
24-08-27.15:11:09.733 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-08-27.15:11:09.734 [main            ] INFO  RuleStockLogicTreeNode - 库存节点gwh 100006 102
24-08-27.15:11:09.755 [main            ] INFO  StrategyRepository     - 库存值为整数，cacheKey: strategy_award_count_key_100006_102, value: 91,stockCount:91
24-08-27.15:11:09.859 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-08-27.15:14:04.027 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m54s364ms479µs901ns).
24-08-27.15:14:04.097 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-08-27.15:14:04.236 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
